<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
	<title></title>
	<style type="text/css">
		*{margin:0;
			padding:0;
		}
		#box{width: 200px;height: 300px;border:1px solid #000;overflow: hidden;margin:50px auto;position: relative;}
		#text{position: absolute;left: 0;top:0;width: 180px;}
		#bar{width: 20px;height: 300px;background: #ccc;position: absolute;right: 0;}
		#bar span{width: 20px;height: 50px;background: red;position: absolute;left:0;top:0;}
	</style>
	<script type="text/javascript">
		window.onload=function(){
			var oBox=document.getElementById('box');
			var oText=document.getElementById('text');
			var oBar=document.getElementById('bar');
			var oSpan=oBar.children[0];
			oSpan.onmousedown=function(ev){
				var oEvent=ev||event;
				var bart=oBar.offsetTop;
				var barh=oBar.offsetHeight;
				var spant=oSpan.offsetTop;
				var spanh=oSpan.offsetHeight;
				var boxh=oBox.offsetHeight;
				var texth=oText.offsetHeight;
				var textt=oText.offsetTop;
				var oldy=oEvent.clientY;
				document.onmousemove=function(ev){
					var oEvent=ev||event;
					var nowy=oEvent.clientY;
					var t=nowy-oldy+spant;
					if(t<=0){
						t=0;
					}
					if(t>=barh-spanh){
						t=barh-spanh;
					}
					oSpan.style.top=t+'px';
					var x=-t/(barh-spanh)*(texth-boxh)+'px';
					oText.style.top=x;
				}
				document.onmouseup=function(){
					document.onmousemove=null;
					document.onmouseup=null;
					document.releaseCapture&&document.releaseCapture();
				}
				document.setCapture&&document.setCapture();
				return false;
			}
		}
	</script>
</head>
<body>
<div id="box">
	<div id="text">22222水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁水水水水水水水水谁谁谁水水水水谁谁谁1111111111111</div>
	<div id="bar">
		<span></span>
	</div>
</div>
</body>
</html>